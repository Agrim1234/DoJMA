package com.csatimes.dojma;import android.content.Context;import android.content.Intent;import android.content.SharedPreferences;import android.database.Cursor;import android.net.ConnectivityManager;import android.net.NetworkInfo;import android.os.Bundle;import android.support.annotation.Nullable;import android.support.design.widget.Snackbar;import android.support.v4.app.Fragment;import android.util.Log;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.AdapterView;import android.widget.ListView;public class Herald extends Fragment {    ListView heraldListView;    Cursor cr;    DatabaseOperations dop;    HeraldCursorAdapter adapter;    SharedPreferences preferences;    SharedPreferences.Editor editor;    public Herald() {        // Required empty public constructor    }    @Override    public void onPause() {        super.onPause();    }    @Override    public void onStop() {        super.onStop();    }    @Override    public void onCreate(@Nullable Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        preferences = getContext().getSharedPreferences(DojmaHelperMethod.USER_PREFERENCES,                Context.MODE_PRIVATE);        editor = preferences.edit();        dop = new DatabaseOperations(getContext());        }    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup container,                             Bundle savedInstanceState) {        Log.e("TAG", "onCreateView Called");        View V = inflater.inflate(R.layout.fragment_herald, container, false);        cr = dop.getInformation();        adapter = new HeraldCursorAdapter(getContext(), cr, 0);        heraldListView = (ListView) V.findViewById(R.id.herald_list_view);        //cr.close();        heraldListView.setAdapter(adapter);        //Handle click events on items        //will be replaced by an in app viewer        heraldListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {            @Override            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {                Cursor cur = (Cursor) adapter.getItem(position);                cur.moveToPosition(position);                {                    if (isOnline()) {                        Intent openWebpage = new Intent(getActivity(), OpenWebpage.class);                        openWebpage.putExtra("URL", cur.getString(6));                        openWebpage.putExtra("TITLE", cur.getString(1));                        startActivity(openWebpage);                    } else {                        Snackbar.make(view, "Unable to connect to internet", Snackbar.LENGTH_LONG).show();                    }                }            }        });        return V;    }    public boolean isOnline() {        ConnectivityManager cm = (ConnectivityManager) getContext().getSystemService(Context                .CONNECTIVITY_SERVICE);        NetworkInfo netInfo = cm.getActiveNetworkInfo();        return netInfo != null && netInfo.isConnected();    }}